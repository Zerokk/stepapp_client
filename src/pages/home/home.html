<ion-header>
  <ion-navbar>
    <ion-title>Home</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <span *ngIf="correctInit==false">Map not correctly initialized</span>
  <agm-map [style.height]="'50%'" [latitude]="coords.lat" [longitude]="coords.lng" [zoom]="14">
    <agm-marker *ngFor="let place of placesList" [latitude]="place.get('location')._latitude" [longitude]="place.get('location')._longitude">
      <agm-info-window>{{place.get("placeName")}}</agm-info-window>
    </agm-marker>
  </agm-map>
  <ion-list>
    <ion-list-header>
      Places near you
    </ion-list-header>
    <ion-item *ngFor="let place of placesList">
        <ion-avatar item-start>
          <img [src]="place.get('mainPicture')._url">
        </ion-avatar>
        {{place.get('placeName')}}
        <button ion-button outline item-end>View</button>
      </ion-item>
  </ion-list>
</ion-content>